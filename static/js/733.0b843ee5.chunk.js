"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[733],{733:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(439),a=n(791),i=n(689),s=n(87),c=n(264),o=n(474),u=n(844),l={wrapper:"movie-details-page_wrapper__F9OaZ",wrapper__info:"movie-details-page_wrapper__info__XIvyK",link:"movie-details-page_link__Chm7G",link__add:"movie-details-page_link__add__GWgrP",title:"movie-details-page_title__lvyVs",subtitle:"movie-details-page_subtitle__ShdPZ",list:"movie-details-page_list__lJ6Dn",img:"movie-details-page_img__nPy+G",expandLink:"movie-details-page_expandLink__ntu9M"},p=n(184),d=function(){var e,t,n,d,m,v,h=(0,a.useState)(null),f=(0,r.Z)(h,2),g=f[0],_=f[1],x=(0,a.useState)(!1),w=(0,r.Z)(x,2),j=w[0],k=w[1],b=(0,a.useState)(!1),N=(0,r.Z)(b,2),y=N[0],Z=N[1],S=(0,a.useState)(!1),U=(0,r.Z)(S,2),C=U[0],P=U[1],O=(0,a.useState)(!1),F=(0,r.Z)(O,2),G=F[0],I=F[1],L=(0,i.UO)().movieId,R=(0,i.TH)();return(0,a.useEffect)((function(){k(!0),(0,u.uR)(L).then((function(e){return _(e)})).catch((function(){return c.Notify.warning("Oops! Something went wrong, please try again later.")})).finally((function(){return k(!1)}))}),[L]),(0,p.jsxs)(p.Fragment,{children:[j&&(0,p.jsx)(o.Z,{}),g&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.rU,{to:null!==(e=null===(t=R.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",className:l.link,children:"Back"}),(0,p.jsxs)("div",{className:l.wrapper,children:[(0,p.jsx)("img",{className:l.img,src:g.posterPath,alt:g.title,width:"270",height:"300"}),(0,p.jsxs)("div",{className:l.wrapper__info,children:[(0,p.jsxs)("h1",{className:l.title,children:[g.title," (",g.releaseYear,")"]}),(0,p.jsxs)("p",{className:l.text,children:["User Score: ",g.voteAverage]}),(0,p.jsx)("h3",{className:l.subtitle,children:"Overview"}),g.overview.length>300?(0,p.jsxs)("p",{className:l.text,children:[y?g.overview:"".concat(g.overview.substring(0,300),"..."),(0,p.jsx)("span",{className:l.expandLink,onClick:function(){Z(!y)},children:y?"See less":"See more"})]}):(0,p.jsx)("p",{className:l.text,children:g.overview}),(0,p.jsx)("h3",{className:l.subtitle,children:"Genres"}),(0,p.jsx)("p",{className:l.text,children:g.genres}),(0,p.jsx)("h3",{className:l.subtitle,children:"Additional information"}),(0,p.jsxs)("ul",{className:l.list,children:[(0,p.jsx)("li",{className:l.item,children:(0,p.jsx)(s.rU,{to:"cast",className:l.link__add,state:{from:null!==(n=null===(d=R.state)||void 0===d?void 0:d.from)&&void 0!==n?n:"/"},onClick:function(){return P(!C)},children:C?"Hide":"Cast"})}),(0,p.jsx)("li",{className:l.item,children:(0,p.jsx)(s.rU,{to:"reviews",className:l.link__add,state:{from:null!==(m=null===(v=R.state)||void 0===v?void 0:v.from)&&void 0!==m?m:"/"},onClick:function(){return I(!G)},children:G?"Hide":"Reviews"})})]})]})]})]}),(0,p.jsxs)(a.Suspense,{fallback:(0,p.jsx)(o.Z,{}),children:[C&&(0,p.jsx)(i.j3,{}),G&&(0,p.jsx)(i.j3,{})]})]})}},844:function(e,t,n){n.d(t,{Df:function(){return c},M1:function(){return l},Pt:function(){return o},tx:function(){return p},uR:function(){return u}});var r=n(861),a=n(757),i=n.n(a),s=n(243).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"248116f5568d54feca6593c74cdd2b90",language:"en-US",include_adult:!1,page:1},headers:{accept:"application/json"}}),c=function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/trending/movie/day",e.next=3,s.get("/trending/movie/day");case 3:return t=e.sent,n=t.data,r=n.results.map((function(e){var t=e.id,n=e.title,r=e.poster_path;return{id:t,movieTitle:n.length>25?"".concat(n.substring(0,22),"..."):n,src:r?"https://image.tmdb.org/t/p/w500/".concat(r):"https://via.placeholder.com/200x300.png?text=No+Image"}})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/search/movie",e.next=3,s.get("/search/movie",{params:{query:t}});case 3:return n=e.sent,r=n.data,a=r.results.map((function(e){var t=e.id,n=e.name,r=e.title,a=e.poster_path,i=r||n;return i.length>25&&(i=i.substring(0,22)+"..."),{id:t,movieTitle:i,src:a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://via.placeholder.com/200x300.png?text=No+Image"}})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,c,o,u,l,p,d,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/movie/".concat(t),e.next=3,s.get(n);case 3:return r=e.sent,a=r.data,c=a.genres,o=a.title,u=a.poster_path,l=a.release_date,p=a.vote_average,d=a.overview,m=u?"https://image.tmdb.org/t/p/w500/".concat(u):"https://via.placeholder.com/200x300",e.abrupt("return",{id:t,title:o,posterPath:m,releaseYear:l.substr(0,4),voteAverage:"".concat((10*p).toFixed(0),"%"),overview:d,genres:c.length?c.map((function(e){return e.name})).join(", "):"Oops!! Unknown genres."});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/movie/".concat(t,"/credits"),e.next=3,s.get(n);case 3:return r=e.sent,a=r.data,c=a.cast.map((function(e){var t=e.name,n=e.character,r=e.id,a=e.profile_path;return{name:t,character:n,id:r,src:a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://via.placeholder.com/200x300"}})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/movie/".concat(t,"/reviews"),e.next=3,s.get(n);case 3:return r=e.sent,a=r.data,c=a.results.map((function(e){return{author:e.author,id:e.id,content:e.content}})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=733.0b843ee5.chunk.js.map